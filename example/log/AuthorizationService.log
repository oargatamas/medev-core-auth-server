[2019-03-06 14:29:23][15271e01-3651-4350-ba6a-01ca83ad216b][INFO][AuthorizationService][] Inbound request data: 127.0.0.1, GET, http://auth.medev.local/authorize?response_type=code&state=randomstring&client_id=hu.medev.test.webclient&scope=asdf&redirect_uri=http%3A%2F%2Fapi.medev.local, (code;randomstring;hu.medev.test.webclient;asdf;http://api.medev.local)
[2019-03-06 14:29:23][15271e01-3651-4350-ba6a-01ca83ad216b][INFO][AuthorizationService][AuthorizeRequest] Checking user login state.
[2019-03-06 14:29:23][15271e01-3651-4350-ba6a-01ca83ad216b][INFO][AuthorizationService][AuthorizeRequest] End-User not logged in. Redirecting to identity provider.
[2019-03-06 14:29:23][15271e01-3651-4350-ba6a-01ca83ad216b][INFO][AuthorizationService][] Outbound response data: HTTP/1.1 302 Found Content-Type: text/html; charset=UTF-8 Location: /idp/login  
[2019-03-06 14:29:54][f63c1e00-7d04-478b-b17f-5a3dd74c1ccd][INFO][AuthorizationService][] Inbound request data: 127.0.0.1, POST, http://auth.medev.local/token, (password;toarga@medev.hu;kiskutya;asdf;hu.medev.test.webclient;password1234)
[2019-03-06 14:29:54][f63c1e00-7d04-478b-b17f-5a3dd74c1ccd][ERROR][AuthorizationService][] Exception during request: Bad Request (400) - Paramater not set in request: state  StackTrace: #0 C:\WORK\Projects\Medev\MedevSuite\Authorization\medevsuite-authserver\src\Services\Auth\OAuth\Actions\GrantType\AccessGrant\GrantFlowIdentifier.php(70): MedevSlim\Core\Action\Middleware\RequestValidator->__invoke(Object(Slim\Http\Request), Object(Slim\Http\Response), Object(Slim\Route)) #1 [internal function]: MedevAuth\Services\Auth\OAuth\Actions\GrantType\AccessGrant\GrantFlowIdentifier->__invoke(Object(Slim\Http\Request), Object(Slim\Http\Response), Object(Slim\Route)) #2 C:\WORK\Projects\Medev\MedevSuite\Authorization\medevsuite-authserver\vendor\slim\slim\Slim\DeferredCallable.php(43): call_user_func_array(Object(MedevAuth\Services\Auth\OAuth\Actions\GrantType\AccessGrant\GrantFlowIdentifier), Array) #3 [internal function]: Slim\DeferredCallable->__invoke(Object(Slim\Http\Request), Object(Slim\Http\Response), Object(Slim\Route)) #4 C:\WORK\Projects\Medev\MedevSuite\Authorization\medevsuite-authserver\vendor\slim\slim\Slim\MiddlewareAwareTrait.php(70): call_user_func(Object(Slim\DeferredCallable), Object(Slim\Http\Request), Object(Slim\Http\Response), Object(Slim\Route)) #5 C:\WORK\Projects\Medev\MedevSuite\Authorization\medevsuite-authserver\vendor\slim\slim\Slim\MiddlewareAwareTrait.php(117): Slim\Route->Slim\{closure}(Object(Slim\Http\Request), Object(Slim\Http\Response)) #6 C:\WORK\Projects\Medev\MedevSuite\Authorization\medevsuite-authserver\vendor\slim\slim\Slim\Route.php(334): Slim\Route->callMiddlewareStack(Object(Slim\Http\Request), Object(Slim\Http\Response)) #7 C:\WORK\Projects\Medev\MedevSuite\Authorization\medevsuite-authserver\vendor\slim\slim\Slim\App.php(516): Slim\Route->run(Object(Slim\Http\Request), Object(Slim\Http\Response)) #8 C:\WORK\Projects\Medev\MedevSuite\Authorization\medevsuite-authserver\vendor\medev-core\slim\src\Core\Action\Middleware\RequestLogger.php(74): Slim\App->__invoke(Object(Slim\Http\Request), Object(Slim\Http\Response)) #9 [internal function]: MedevSlim\Core\Action\Middleware\RequestLogger->__invoke(Object(Slim\Http\Request), Object(Slim\Http\Response), Object(MedevSlim\Core\Application\MedevApp)) #10 C:\WORK\Projects\Medev\MedevSuite\Authorization\medevsuite-authserver\vendor\slim\slim\Slim\DeferredCallable.php(43): call_user_func_array(Object(MedevSlim\Core\Action\Middleware\RequestLogger), Array) #11 [internal function]: Slim\DeferredCallable->__invoke(Object(Slim\Http\Request), Object(Slim\Http\Response), Object(MedevSlim\Core\Application\MedevApp)) #12 C:\WORK\Projects\Medev\MedevSuite\Authorization\medevsuite-authserver\vendor\slim\slim\Slim\MiddlewareAwareTrait.php(70): call_user_func(Object(Slim\DeferredCallable), Object(Slim\Http\Request), Object(Slim\Http\Response), Object(MedevSlim\Core\Application\MedevApp)) #13 C:\WORK\Projects\Medev\MedevSuite\Authorization\medevsuite-authserver\vendor\akrabat\ip-address-middleware\src\IpAddress.php(113): Slim\App->Slim\{closure}(Object(Slim\Http\Request), Object(Slim\Http\Response)) #14 [internal function]: RKA\Middleware\IpAddress->__invoke(Object(Slim\Http\Request), Object(Slim\Http\Response), Object(Closure)) #15 C:\WORK\Projects\Medev\MedevSuite\Authorization\medevsuite-authserver\vendor\slim\slim\Slim\DeferredCallable.php(43): call_user_func_array(Object(RKA\Middleware\IpAddress), Array) #16 [internal function]: Slim\DeferredCallable->__invoke(Object(Slim\Http\Request), Object(Slim\Http\Response), Object(Closure)) #17 C:\WORK\Projects\Medev\MedevSuite\Authorization\medevsuite-authserver\vendor\slim\slim\Slim\MiddlewareAwareTrait.php(70): call_user_func(Object(Slim\DeferredCallable), Object(Slim\Http\Request), Object(Slim\Http\Response), Object(Closure)) #18 C:\WORK\Projects\Medev\MedevSuite\Authorization\medevsuite-authserver\vendor\slim\slim\Slim\MiddlewareAwareTrait.php(117): Slim\App->Slim\{closure}(Object(Slim\Http\Request), Object(Slim\Http\Response)) #19 C:\WORK\Projects\Medev\MedevSuite\Authorization\medevsuite-authserver\vendor\slim\slim\Slim\App.php(407): Slim\App->callMiddlewareStack(Object(Slim\Http\Request), Object(Slim\Http\Response)) #20 C:\WORK\Projects\Medev\MedevSuite\Authorization\medevsuite-authserver\vendor\slim\slim\Slim\App.php(315): Slim\App->process(Object(Slim\Http\Request), Object(Slim\Http\Response)) #21 C:\WORK\Projects\Medev\MedevSuite\Authorization\medevsuite-authserver\vendor\medev-core\slim\src\Core\Application\MedevApp.php(86): Slim\App->run(false) #22 C:\WORK\Projects\Medev\MedevSuite\Authorization\medevsuite-authserver\example\public\index.php(24): MedevSlim\Core\Application\MedevApp->run() #23 {main}
[2019-03-06 14:30:58][3bfc0449-875d-458c-af27-999dfbd6448a][INFO][AuthorizationService][] Inbound request data: 127.0.0.1, POST, http://auth.medev.local/token, (password;toarga@medev.hu;kiskutya;asdf;hu.medev.test.webclient;password1234)
[2019-03-06 14:30:58][3bfc0449-875d-458c-af27-999dfbd6448a][INFO][AuthorizationService][RequestAccessToken] Validating token request
[2019-03-06 14:30:59][3bfc0449-875d-458c-af27-999dfbd6448a][INFO][AuthorizationService][ValidateUser] Validating user credentials
[2019-03-06 14:30:59][3bfc0449-875d-458c-af27-999dfbd6448a][INFO][AuthorizationService][ValidateUser] User credentials are valid.
[2019-03-06 14:30:59][3bfc0449-875d-458c-af27-999dfbd6448a][INFO][AuthorizationService][RequestAccessToken] Access granted. Generating tokens based on the grant flow.
[2019-03-06 14:30:59][3bfc0449-875d-458c-af27-999dfbd6448a][INFO][AuthorizationService][] Outbound response data: HTTP/1.1 200 OK Content-Type: application/json;charset=utf-8  {"access_token":"eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6IjYyZTFkMmI3LTRiYzItNDNhYy05ZTc4LWJhYTU1OWExMmY2MCJ9.eyJqdGkiOiI2MmUxZDJiNy00YmMyLTQzYWMtOWU3OC1iYWE1NTlhMTJmNjAiLCJzdWIiOiIxIiwiYXVkIjoiaHUubWVkZXYudGVzdC53ZWJjbGllbnQiLCJpYXQiOjE1NTE4NzkwNTksIm5iZiI6MTU1MTg3OTA1OSwiZXhwIjoxNTUxODgyNjU5LCJ1c3IiOiIxIiwiY2xpIjoiaHUubWVkZXYudGVzdC53ZWJjbGllbnQiLCJzY29wZXMiOltdfQ.uTI08ZKiqYQvA9srEQNImIEKcrW_8en_W9YBLDvhQYfeI3SgwzJ8-NSm5bdHVoRQruKUBTosuyCGgPEWa_-oNXIBE3hF_u7UrzuNPrebKs-jst6cRi9P6sFGfsc-DRUkSJmUr_t1X8usby0TZFO0jZML3PdX7A0U6GAOg0BfSaXT3RsbapveXviIAAKAHILYgZuPyyIKKnHpANoG-ydSZ802OrrpIyzK6UCU4l-n4UCsgAMwnjrEeXuOf9FrCH5gKZosw4R9NpqZvYbATb9jKepAZtCgKGDSXqdAZqmJwEclyh6nmUJGn_nuEIsjKw1wf4Q74bJGTl37KfJkHZtCLg","token_type":"bearer","expires_in":3600,"refresh_token":"eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6IjA3Yzg4NmZlLWIyMDYtNDdkMi1hZDk4LTI1MjQ0ZjY5ZmRiYiJ9.eyJqdGkiOiIwN2M4ODZmZS1iMjA2LTQ3ZDItYWQ5OC0yNTI0NGY2OWZkYmIiLCJzdWIiOiIxIiwiYXVkIjoiaHUubWVkZXYudGVzdC53ZWJjbGllbnQiLCJpYXQiOjE1NTE4NzkwNTksIm5iZiI6MTU1MTg3OTA1OSwiZXhwIjoxNTUxODgyNjU5LCJ1c3IiOiIxIiwiY2xpIjoiaHUubWVkZXYudGVzdC53ZWJjbGllbnQiLCJzY29wZXMiOlsiZ2V0OmFjY2Vzc190b2tlbiJdfQ.J6aGUNNYdfSVGqDSFym_S3SA380EQM0nU9AWTM4mk8LXZtD_Xya6vLY5EPzk9heC7mpdQbt1n-gGSGAO_dBnHrATQ7Xn2PtHyGOcOjvKvF2SVDRdYCauQ6EnpOhf7JJ65vTWGpygprEpMCKxIXKdGhiDJMFAtHbqhViK9hrQV5b0988mywjqowV7q-jbRtkigHbi4mv8nJhMQUZiqhx4arSaCjNhSt_QX8ND8r2Jdk37HWFguFTseF6Ckj4A0uTFQnZ9LFgNWcUuoZlzodQ2tDsTSsFLRcXsZ0aHeglHMkILSdKBoKB32zCmw5IxZNAcjAD28gBh-CsbC745iLtMxw"}
