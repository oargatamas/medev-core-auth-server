[2019-03-06 14:28:07][b3bc4b53-f467-4c12-8bc5-689f9dd4fe3b][INFO][ResourceService][] Inbound request data: 127.0.0.1, GET, http://auth.medev.local/api/json, ()
[2019-03-06 14:28:07][b3bc4b53-f467-4c12-8bc5-689f9dd4fe3b][INFO][ResourceService][] Validating client access
[2019-03-06 14:28:07][b3bc4b53-f467-4c12-8bc5-689f9dd4fe3b][ERROR][ResourceService][] Exception during request: Unauthorized (401) - Authorization header not set  StackTrace: #0 [internal function]: MedevAuth\Services\Auth\OAuth\APIProtection\Middleware\OAuthAPIProtector->__invoke(Object(Slim\Http\Request), Object(Slim\Http\Response), Object(Slim\Route)) #1 C:\WORK\Projects\Medev\MedevSuite\Authorization\medevsuite-authserver\vendor\slim\slim\Slim\DeferredCallable.php(43): call_user_func_array(Object(MedevAuth\Services\Auth\OAuth\APIProtection\Middleware\OAuthAPIProtector), Array) #2 [internal function]: Slim\DeferredCallable->__invoke(Object(Slim\Http\Request), Object(Slim\Http\Response), Object(Slim\Route)) #3 C:\WORK\Projects\Medev\MedevSuite\Authorization\medevsuite-authserver\vendor\slim\slim\Slim\MiddlewareAwareTrait.php(70): call_user_func(Object(Slim\DeferredCallable), Object(Slim\Http\Request), Object(Slim\Http\Response), Object(Slim\Route)) #4 C:\WORK\Projects\Medev\MedevSuite\Authorization\medevsuite-authserver\vendor\slim\slim\Slim\MiddlewareAwareTrait.php(117): Slim\Route->Slim\{closure}(Object(Slim\Http\Request), Object(Slim\Http\Response)) #5 C:\WORK\Projects\Medev\MedevSuite\Authorization\medevsuite-authserver\vendor\slim\slim\Slim\Route.php(334): Slim\Route->callMiddlewareStack(Object(Slim\Http\Request), Object(Slim\Http\Response)) #6 C:\WORK\Projects\Medev\MedevSuite\Authorization\medevsuite-authserver\vendor\slim\slim\Slim\App.php(516): Slim\Route->run(Object(Slim\Http\Request), Object(Slim\Http\Response)) #7 C:\WORK\Projects\Medev\MedevSuite\Authorization\medevsuite-authserver\vendor\medev-core\slim\src\Core\Action\Middleware\RequestLogger.php(74): Slim\App->__invoke(Object(Slim\Http\Request), Object(Slim\Http\Response)) #8 [internal function]: MedevSlim\Core\Action\Middleware\RequestLogger->__invoke(Object(Slim\Http\Request), Object(Slim\Http\Response), Object(MedevSlim\Core\Application\MedevApp)) #9 C:\WORK\Projects\Medev\MedevSuite\Authorization\medevsuite-authserver\vendor\slim\slim\Slim\DeferredCallable.php(43): call_user_func_array(Object(MedevSlim\Core\Action\Middleware\RequestLogger), Array) #10 [internal function]: Slim\DeferredCallable->__invoke(Object(Slim\Http\Request), Object(Slim\Http\Response), Object(MedevSlim\Core\Application\MedevApp)) #11 C:\WORK\Projects\Medev\MedevSuite\Authorization\medevsuite-authserver\vendor\slim\slim\Slim\MiddlewareAwareTrait.php(70): call_user_func(Object(Slim\DeferredCallable), Object(Slim\Http\Request), Object(Slim\Http\Response), Object(MedevSlim\Core\Application\MedevApp)) #12 C:\WORK\Projects\Medev\MedevSuite\Authorization\medevsuite-authserver\vendor\akrabat\ip-address-middleware\src\IpAddress.php(113): Slim\App->Slim\{closure}(Object(Slim\Http\Request), Object(Slim\Http\Response)) #13 [internal function]: RKA\Middleware\IpAddress->__invoke(Object(Slim\Http\Request), Object(Slim\Http\Response), Object(Closure)) #14 C:\WORK\Projects\Medev\MedevSuite\Authorization\medevsuite-authserver\vendor\slim\slim\Slim\DeferredCallable.php(43): call_user_func_array(Object(RKA\Middleware\IpAddress), Array) #15 [internal function]: Slim\DeferredCallable->__invoke(Object(Slim\Http\Request), Object(Slim\Http\Response), Object(Closure)) #16 C:\WORK\Projects\Medev\MedevSuite\Authorization\medevsuite-authserver\vendor\slim\slim\Slim\MiddlewareAwareTrait.php(70): call_user_func(Object(Slim\DeferredCallable), Object(Slim\Http\Request), Object(Slim\Http\Response), Object(Closure)) #17 C:\WORK\Projects\Medev\MedevSuite\Authorization\medevsuite-authserver\vendor\slim\slim\Slim\MiddlewareAwareTrait.php(117): Slim\App->Slim\{closure}(Object(Slim\Http\Request), Object(Slim\Http\Response)) #18 C:\WORK\Projects\Medev\MedevSuite\Authorization\medevsuite-authserver\vendor\slim\slim\Slim\App.php(407): Slim\App->callMiddlewareStack(Object(Slim\Http\Request), Object(Slim\Http\Response)) #19 C:\WORK\Projects\Medev\MedevSuite\Authorization\medevsuite-authserver\vendor\slim\slim\Slim\App.php(315): Slim\App->process(Object(Slim\Http\Request), Object(Slim\Http\Response)) #20 C:\WORK\Projects\Medev\MedevSuite\Authorization\medevsuite-authserver\vendor\medev-core\slim\src\Core\Application\MedevApp.php(86): Slim\App->run(false) #21 C:\WORK\Projects\Medev\MedevSuite\Authorization\medevsuite-authserver\example\public\index.php(24): MedevSlim\Core\Application\MedevApp->run() #22 {main}
[2019-03-06 14:31:08][c00e9742-822b-4bd7-abca-58e3d74c407c][INFO][ResourceService][] Inbound request data: 127.0.0.1, GET, http://auth.medev.local/api/json, ()
[2019-03-06 14:31:08][c00e9742-822b-4bd7-abca-58e3d74c407c][INFO][ResourceService][] Validating client access
[2019-03-06 14:31:08][c00e9742-822b-4bd7-abca-58e3d74c407c][INFO][ResourceService][] Authorization data provided. Extracting access token from request
[2019-03-06 14:31:08][c00e9742-822b-4bd7-abca-58e3d74c407c][INFO][ResourceService][] Access token: eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6IjYyZTFkMmI3LTRiYzItNDNhYy05ZTc4LWJhYTU1OWExMmY2MCJ9.eyJqdGkiOiI2MmUxZDJiNy00YmMyLTQzYWMtOWU3OC1iYWE1NTlhMTJmNjAiLCJzdWIiOiIxIiwiYXVkIjoiaHUubWVkZXYudGVzdC53ZWJjbGllbnQiLCJpYXQiOjE1NTE4NzkwNTksIm5iZiI6MTU1MTg3OTA1OSwiZXhwIjoxNTUxODgyNjU5LCJ1c3IiOiIxIiwiY2xpIjoiaHUubWVkZXYudGVzdC53ZWJjbGllbnQiLCJzY29wZXMiOltdfQ.uTI08ZKiqYQvA9srEQNImIEKcrW_8en_W9YBLDvhQYfeI3SgwzJ8-NSm5bdHVoRQruKUBTosuyCGgPEWa_-oNXIBE3hF_u7UrzuNPrebKs-jst6cRi9P6sFGfsc-DRUkSJmUr_t1X8usby0TZFO0jZML3PdX7A0U6GAOg0BfSaXT3RsbapveXviIAAKAHILYgZuPyyIKKnHpANoG-ydSZ802OrrpIyzK6UCU4l-n4UCsgAMwnjrEeXuOf9FrCH5gKZosw4R9NpqZvYbATb9jKepAZtCgKGDSXqdAZqmJwEclyh6nmUJGn_nuEIsjKw1wf4Q74bJGTl37KfJkHZtCLg
[2019-03-06 14:31:08][c00e9742-822b-4bd7-abca-58e3d74c407c][INFO][ResourceService][] Enriching inbound request with access meta data.
[2019-03-06 14:31:08][c00e9742-822b-4bd7-abca-58e3d74c407c][INFO][ResourceService][] Authorization successful. Sending request to next stage
[2019-03-06 14:31:08][c00e9742-822b-4bd7-abca-58e3d74c407c][INFO][ResourceService][] Outbound response data: HTTP/1.1 200 OK Content-Type: application/json;charset=utf-8  {"status":"success","message":"megy ez!"}
[2019-03-06 14:34:42][25b6320d-a42f-4e4a-84db-9be18e38c286][INFO][ResourceService][] Inbound request data: 127.0.0.1, GET, http://auth.medev.local/api/json, ()
[2019-03-06 14:34:42][25b6320d-a42f-4e4a-84db-9be18e38c286][INFO][ResourceService][] Validating client access
[2019-03-06 14:34:42][25b6320d-a42f-4e4a-84db-9be18e38c286][INFO][ResourceService][] Authorization data provided. Extracting access token from request
[2019-03-06 14:34:42][25b6320d-a42f-4e4a-84db-9be18e38c286][INFO][ResourceService][] Access token: eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6IjYyZTFkMmI3LTRiYzItNDNhYy05ZTc4LWJhYTU1OWExMmY2MCJ9.eyJqdGkiOiI2MmUxZDJiNy00YmMyLTQzYWMtOWU3OC1iYWE1NTlhMTJmNjAiLCJzdWIiOiIxIiwiYXVkIjoiaHUubWVkZXYudGVzdC53ZWJjbGllbnQiLCJpYXQiOjE1NTE4NzkwNTksIm5iZiI6MTU1MTg3OTA1OSwiZXhwIjoxNTUxODgyNjU5LCJ1c3IiOiIxIiwiY2xpIjoiaHUubWVkZXYudGVzdC53ZWJjbGllbnQiLCJzY29wZXMiOltdfQ.uTI08ZKiqYQvA9srEQNImIEKcrW_8en_W9YBLDvhQYfeI3SgwzJ8-NSm5bdHVoRQruKUBTosuyCGgPEWa_-oNXIBE3hF_u7UrzuNPrebKs-jst6cRi9P6sFGfsc-DRUkSJmUr_t1X8usby0TZFO0jZML3PdX7A0U6GAOg0BfSaXT3RsbapveXviIAAKAHILYgZuPyyIKKnHpANoG-ydSZ802OrrpIyzK6UCU4l-n4UCsgAMwnjrEeXuOf9FrCH5gKZosw4R9NpqZvYbATb9jKepAZtCgKGDSXqdAZqmJwEclyh6nmUJGn_nuEIsjKw1wf4Q74bJGTl37KfJkHZtCLg
[2019-03-06 14:34:42][25b6320d-a42f-4e4a-84db-9be18e38c286][INFO][ResourceService][] Enriching inbound request with access meta data.
[2019-03-06 14:34:42][25b6320d-a42f-4e4a-84db-9be18e38c286][INFO][ResourceService][] Authorization successful. Sending request to next stage
[2019-03-06 14:34:42][25b6320d-a42f-4e4a-84db-9be18e38c286][INFO][ResourceService][] Outbound response data: HTTP/1.1 200 OK Content-Type: application/json;charset=utf-8  {"status":"success","message":"megy ez!","user":"1","client":"hu.medev.test.webclient","scopes":[]}
